allOf:
 -  type: object
    properties:
      orm:
        type: object
        properties:
          singular:
            type: string
          plural:
            type: string
          primary_property:
            type: string
            default: name
          relations:
            type: array
            items:
              allOf:
                - $ref: "#/definitions/base_relation"
                - type: object
                  properties:
                    joins:
                      items:
                        $ref: "#/definitions/base_relation"
        required: [ singular, plural ]
        additionalProperties: false
    required: [ orm ]
definitions:
  base_relation:
    type: object
    properties:
      schema:
        type: string
      local_property:
        type: string
      local_key:
        type: string
      foreign_key:
        type: string
      type:
        type: string
        enum: [ one, many ]

